<Window x:Class="AutomaticSapper.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        Title="MainWindow" Height="350" Width="525">
    <Window.Resources>
        <DataTemplate x:Key="DataTemplate_Level2">
            <Label Content="{Binding}"/>
        </DataTemplate>

        <DataTemplate x:Key="DataTemplate_Level1">
            <ItemsControl ItemsSource="{Binding}" ItemTemplate="{DynamicResource DataTemplate_Level2}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Columns="20">
                            
                        </UniformGrid>

                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
            </ItemsControl>
        </DataTemplate>
        
        

    </Window.Resources>
    <Window.Background>
        <ImageBrush ImageSource="grasslight-big.png"/>
    </Window.Background>
    <Grid>
        <ItemsControl x:Name="lst" ItemTemplate="{DynamicResource DataTemplate_Level1}"/>
        <Canvas x:Name="Canv">
            <Button x:Name="bu" Width="100" Height="100" Margin="0,0,0,0" Click="bu_Click"></Button>
        </Canvas>
        <Rectangle
            Name="MovingRect"
            Fill="Red"
            Width="10"
            Height="10"
            Grid.Row="1"
            HorizontalAlignment="Left"
            VerticalAlignment="Top">
            <Rectangle.Style>
                <Style TargetType="{x:Type Rectangle}">
                    <Style.Triggers>
                        <EventTrigger RoutedEvent="Rectangle.Loaded">
                            <EventTrigger.Actions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation
                                            Storyboard.TargetProperty="RenderTransform.(TranslateTransform.X)"
                                            From="0" To="400" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger.Actions>
                        </EventTrigger>
                    </Style.Triggers>
                </Style>
            </Rectangle.Style>
            <Rectangle.RenderTransform>
                <TranslateTransform X="10" Y="10" />
            </Rectangle.RenderTransform>
        </Rectangle>
    </Grid>
</Window>
